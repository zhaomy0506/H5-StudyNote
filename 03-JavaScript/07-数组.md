# 数组[Array]

- 数组是一种复合类型,数组中存储的数据是有序的,每个数据都有对应的索引
  - 索引(`index`)是一组大于0的整数,从0开始

- 创建数组时,尽量保证数据类型一致性

## 1. 增删改查

1. 获取/修改数组长度
   - 使用`length`属性获取数组长度
   - 数组实际长度为 `length - 1`
   - 向数组最后添加数据 `arr[arr.length] = 数据`
   - length可以修改,多余空展位,少于舍去
2. 操作数组元素
   - 获取对应索引元素 `arr[index]`
   - 添加/修改数组元素 `arr[index] = 数据`
   - 删除数组元素 `delete arr[index]`
     - 仅删除内部数据,位置不会发生改变,空占位

## 2. 遍历数组

1. 正向/反向遍历数组

   ```js
   for(let i = 0; i < arr.length; i++)
   for(let i = arr.length - 1; i > 0; i--)
   ```

2. for-of语法可以用来遍历可迭代对象

   ```js
   for(let element of arr){
       console.log(element)
   }
   ```

3. arr.forEach(callbackFn)

   调用执行回调函数,数组中有多个元素,回调函数执行多少次

   ```js
   arr.forEach((ele,index)=>{
       console.log(ele)
   })
   ```

## 3. 常用属性及方法

### 非破坏性

| 属性/方法                                              | 作用                                                         | 返回值                           |
| ------------------------------------------------------ | ------------------------------------------------------------ | -------------------------------- |
| `Array.isArray(变量)`                                  | 检查一个数据是否为数组                                       | `true`/`false`                   |
| `at(index)`                                            | at可以接收负值,反向查询                                      | 数据对应索引                     |
| `concat(arr1,arr2...)`                                 | 连接单个或多个数组                                           | 新数组                           |
| `indexOf(ele,[index])`<br />`lastIndexOf(ele,[index])` | 查询元素在数组中出现的位置<br />参数:<br />1. 查询的元素<br />2. 查询起始位置(可忽略) | 返回对应索引<br />未查询到返回-1 |
| `includes(ele,[index])`                                | 查询对应元素是否存在                                         | `true`/`false`                   |
| `join(字符)`                                           | 数组转换成字符串,字符作为连接符                              | 字符串                           |
| `slice(index,[index])`                                 | 切片,分割数组<br />参数:<br />1. 起始索引<br />2. 结束索引<br />可以为负值,反向选择<br />不传参,直接返回原数组([浅拷贝](#copy)) | 截取的数组                       |

### 破坏性方法

| 方法                                  | 作用                                                         | 返回值       |
| ------------------------------------- | ------------------------------------------------------------ | ------------ |
| `push(ele...)`<br />`unshift(ele...)` | 向数组最后/开头添加一个或多个元素                            | 新数组长度   |
| `pop(ele)`<br />`shift(ele)`          | 删除最后/开头第一个元素                                      | 删除的元素   |
| `splice(stratIndex,num,ele1,ele2...)` | 删除,插入,替换数组中的元素<br />参数:<br />1. 删除的起始位置<br />2. 删除数量<br />3.添加的元素(多个) | 删除的元素   |
| `reverse( )`                          | 反装数组                                                     | 反转后的数组 |

### 高级数组方法

数组的高级方法(参数为回调函数)

1. `.sort()`用来给数组进行排序

   无参数会根据unicode编码进行排序,可能会得到不正确的结果

   参数:

   ​	可以传递一个回调函数作为参数,通过函数调用来进行排序规则

   (a,b)=>a-b升序

   (a,b)=>b-a降序

   a为比较第一元素,b为比较的第二元素

   当此函数返回值大于0,则排序[b,a]

   小于0,则[a,b]

   等于0,则不变

2. `.forEach()`,用来遍历数组

   需要一个回调函数作为参数,回调函数会调用多次

   ​	数组中有几个元素,回调函数调用几次

   ​	每次调用,数组中的数据都会作为参数

   ```js
   arr.forEach((ele,index,array)=>{
       console.log(ele)
   })
   ```

   三个参数:

   1. 当前的元素
   2. 当前元素的索引
   3. 数组本身

3. `.filter()`非破坏性方法

   将数组中符合条件的元素,保存到新数组中返回

   参数:
   	回调函数作为参数

   ```js
   let arr = [1, 2, 3, 4, 5, 6, 7, 8]
   let result = arr.filter(ele => ele % 2 == 0)
   console.log(result);
   ```

4. `.map()` 根据已有数组,生成一个新数组

   参数:回调函数

   回调函数的返回值会成为新数组中的元素,多少个元素,回调函数执行多少次

   应用场景:给每个元素加标签

5. `.reduce()`将一个数组中的所有元素整合成一个值

   参数:

   1. 回调函数,回调函数参数a,b,`arr.reduce((a,b)=>a+b)`
   2. 可选:初始值,会优先加上

### 字符串方法

| 属性/方法                                                    | 作用                                                         | 返回值             |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------ |
| `length`                                                     | 获取字符串长度(只读)                                         |                    |
| `toLowerCase()`<br />`toUpperCase()`                         | 字符串转换成小写/大写                                        | 转换后的字符串     |
| `trim()`<br />`trimStart()`<br />`trimEnd()`                 | 去除前后空格                                                 | 去除空格后的字符串 |
| `indexOf(ele)`/`lastIndexOf(ele)`                            | 检查元素第一次出现的位置                                     | 对应索引           |
| 下列方法可配合正则使用                                       |                                                              |                    |
| `replace("被替换内容","新内容")`<br />`replaceAll("被替换内容","新内容")` | 用新内容替换对应内容                                         | 新字符串           |
| `includes(内容,[index])`                                     | 检查字符串中是否包含某些内容                                 | `true`/`false`     |
| `slice(index,[index])`                                       | 切片,分割数组<br />参数:<br />1. 起始索引<br />2. 结束索引<br />可以为负值,反向选择<br />不传参,直接返回原数组([浅拷贝](#copy)) | 截取后的字符串     |
| `split(分割符)`                                              | 将字符串分割成数组                                           | 分割后的数组       |
| `search(字符串)`                                             | 搜索字符串出现的位置                                         | 对应索引           |

## 类数组(伪数组)

- 类数组,和数组相似,可以通过索引来读取元素,也可以for循环变量,不能调用数组的方法
- 可以使用`Array.from()`来转换成数组
- 或者使用`...`运算符转换成数组

