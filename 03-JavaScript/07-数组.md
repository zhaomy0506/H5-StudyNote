# 数组[Array]

- 数组是一种复合类型,数组中存储的数据是有序的,每个数据都有对应的索引
  - 索引(`index`)是一组大于0的整数,从0开始

- 创建数组时,尽量保证数据类型一致性

## 1. 增删改查

1. 获取/修改数组长度
   - 使用`length`属性获取数组长度
   - 数组实际长度为 `length - 1`
   - 向数组最后添加数据 `arr[arr.length] = 数据`
   - length可以修改,多余空展位,少于舍去
2. 操作数组元素
   - 获取对应索引元素 `arr[index]`
   - 添加/修改数组元素 `arr[index] = 数据`
   - 删除数组元素 `delete arr[index]`
     - 仅删除内部数据,位置不会发生改变,空占位

## 2. 遍历数组

1. 正向/反向遍历数组

   ```js
   for(let i = 0; i < arr.length; i++)
   for(let i = arr.length - 1; i > 0; i--)
   ```

2. for-of语法可以用来遍历可迭代对象

   ```js
   for(let element of arr){
       console.log(element)
   }
   ```

3. arr.forEach(callbackFn)

   调用执行回调函数,数组中有多个元素,回调函数执行多少次

   ```js
   arr.forEach((ele,index)=>{
       console.log(ele)
   })
   ```

## 3. 常用属性及方法

### 非破坏性

| 属性/方法                                              | 作用                                                         | 返回值                           |
| ------------------------------------------------------ | ------------------------------------------------------------ | -------------------------------- |
| `Array.isArray(变量)`                                  | 检查一个数据是否为数组                                       | `true`/`false`                   |
| `at(index)`                                            | at可以接收负值,反向查询                                      | 数据对应索引                     |
| `concat(arr1,arr2...)`                                 | 连接单个或多个数组                                           | 新数组                           |
| `indexOf(ele,[index])`<br />`lastIndexOf(ele,[index])` | 查询元素在数组中出现的位置<br />参数:<br />1. 查询的元素<br />2. 查询起始位置(可忽略) | 返回对应索引<br />未查询到返回-1 |
| `includes(ele,[index])`                                | 查询对应元素是否存在                                         | `true`/`false`                   |
| `join(字符)`                                           | 数组转换成字符串,字符作为连接符                              | 字符串                           |
| `slice(index,[index])`                                 | 切片,分割数组<br />参数:<br />1. 起始索引<br />2. 结束索引<br />可以为负值,反向选择<br />不传参,直接返回原数组([浅拷贝](#copy)) | 截取的数组                       |

### 破坏性方法

| 方法                                  | 作用                                                         | 返回值       |
| ------------------------------------- | ------------------------------------------------------------ | ------------ |
| `push(ele...)`<br />`unshift(ele...)` | 向数组最后/开头添加一个或多个元素                            | 新数组长度   |
| `pop(ele)`<br />`shift(ele)`          | 删除最后/开头第一个元素                                      | 删除的元素   |
| `splice(stratIndex,num,ele1,ele2...)` | 删除,插入,替换数组中的元素<br />参数:<br />1. 删除的起始位置<br />2. 删除数量<br />3.添加的元素(多个) | 删除的元素   |
| `reverse( )`                          | 反装数组                                                     | 反转后的数组 |

### 高级数组方法(参数为回调函数)

1. **作用:进行数组排序**

   `arr.sort((a,b)=>{})`无参数会根据unicode编码进行排序,可能会得到不正确的结果

   回调函数:

   1. `(a,b)=>a-b`升序
   2. `(a,b)=>b-a`降序

   3. a为比较第一元素,b为比较的第二元素

   4. 当此函数返回值`> 0`,则排序[b,a]
      `< 0`,则[a,b]
      `= 0`,则不变

2. **作用:遍历数组中数据**

   `arr.forEach((key,index,array)=>{})`

   回调函数参数:

   1. 当前的元素
   2. 当前元素的索引
   3. 数组本身

3. **作用:筛选数组中的元素,符合条件的元素,返回到新数组中**

   `arr.filter((key,index,array)=>{})`非破坏性方法

   将数组中符合条件的元素,保存到新数组中返回

   ```js
   let arr = [1, 2, 3, 4, 5, 6, 7, 8]
   let result = arr.filter(ele => ele % 2 == 0)
   ```

4. **作用:处理数组中每一个元素,返回经过处理后的新数组**

   `arr.map((key,index,array)=>{})` 

   参数:回调函数

   回调函数的返回值会成为新数组中的元素,多少个元素,回调函数执行多少次

   应用场景:给每个元素加标签

5. **作用:将数组中的中的元素进行整合**

   `arr.reduce((prev,next)=>{ },startIndex)`将一个数组中的所有元素整合成一个值

   参数:

   1. 回调函数,参数为前一个元素,后一个元素
   2. 可选:初始值,会优先加上

>-> 部分数组方法,可以在字符串中使用 参考:[字符串方法](./02-数据类型.md#字符串方法)

6. **作用:用来判断数组中是否符合条件**

   every 用于判断数组中的每一项是否都符合条件

   some 用于判断数组中是否有其中一项符合条件

## 易错合集

### 数组中有很多种查找元素的方式,例如

1. 检查数组中是否存在该元素

   `includes(ele,[index])` -> 返回 true/false

2. 返回对应元素首次/最后一次出现位置

   `indexOf()`,`lastIndexOf()` -> 返回 对应索引/-1

3. 返回第一个符合条件元素

   `find(()=>{})` -> 查找到的元素或/`undefined`

4. 返回符合条件的第一个元素的索引

   `findIndex(()=>{})` -> 满足条件的元素索引/ -1

### slice,splice,split

slice 截取字符串

splice 操作数组

split 分割字符串

## 类数组(伪数组)

- 类数组,和数组相似,可以通过索引来读取元素,也可以for循环变量,不能调用数组的方法
- 可以使用`Array.from()`来转换成数组
- 或者使用`...`运算符转换成数组

