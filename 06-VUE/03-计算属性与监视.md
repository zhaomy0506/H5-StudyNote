# 计算属性与监视

计算属性: `computed`配置项,该配置项为一个对象

1. 定义: 要用的属性不存在,是根据已有的<span style="color:red">**属性**</span>计算得来的
2. 原理: 底层借助了`Object.definedProperty`方法提供的`getter`和`setter`实现
3. `getter`什么时候执行?
   1. 属性被初次读取时
   2. 当依赖的数据发生变化时

> *与methods相比,内部拥有缓存机制(方便复用),效率更高,调试方便*

**备注:**

1. 计算属性会出现在vm上,直接读取使用即可,**不是函数!**
2. 计算属性被修改,必须写setter去响应修改,且setter中要引起依赖的数据发生变化

基本形式:

```js
new Vue({
    el: '.root',
    data() {
        return {
            firstName: '张',
            lastName: '三'
        }
    },
    computed: {
        fullName: {
            get() {
                return this.firstName + '-' + this.lastName
            },
            set(value) {
                console.log('修改');
                this.firstName = value
                this.lastName = value
            }
        }
    }
})
```

简写形式:(只考虑读取,不考虑修改,可以把属性直接写成一个函数,无需配置单独配置getter)

```js
new Vue({
    el: '.root',
    data() {
        return {
            firstName: '张',
            lastName: '三'
        }
    },
    computed: {
        fullName() {
            return this.firstName + '-' + this.lastName
        }
    }
})
```